{"componentChunkName":"component---src-templates-post-jsx","path":"/custom-context-processors-in-django","result":{"data":{"mdx":{"frontmatter":{"slug":"custom-context-processors-in-django","title":"Custom Context Processor in Django.","subtitle":"what's context processor and how to use it?"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"slug\": \"custom-context-processors-in-django\",\n  \"title\": \"Custom Context Processor in Django.\",\n  \"subtitle\": \"what's context processor and how to use it?\",\n  \"date\": \"2021-08-30\",\n  \"tags\": [\"django\"],\n  \"keywords\": [\"context\", \"processor\", \"template\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"What's the need of context processors? \\uD83D\\uDE07\"), mdx(\"p\", null, \"Sometimes you want to make a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"variable\"), \" accessible to all \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"templates\"), \" in a project. \"), mdx(\"p\", null, \"Two ways to access a variable in all templates:\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1. Hard Way:\"), \" By providing the same variable in the context of each view. \\uD83D\\uDE10\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"2. Easy Way:\"), \" creating a custom context processor \\uD83D\\uDE0B\"), mdx(\"p\", null, \"Personally I don't like the hard way, cause then I have to write the same code in each view.\"), mdx(\"h2\", null, \"Let's see how it can be done the easy way.\"), mdx(\"p\", null, \"Consider a situation where you need to display a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"banner image\"), \" in each page of your website, the banner image will be fetched from the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"database\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Model\"), \" for the banner image:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"python\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"#models.py\\nclass BannerImage(models.Model):\\n    image = models.ImageField(upload_to='img')\"), \"\\n        \"), mdx(\"p\", null, \"We can access the banner image in each page using the context processor.\"), mdx(\"h2\", null, \"Write Custom Context Processor \\uD83D\\uDE4C\"), mdx(\"p\", null, \"Create a new file \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"context_processors.py\"), \" inside your app and write a function which will return a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"dictionary\"), \" containing the variable we want to use.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"python\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"#context_processors.py\\n\\nfrom .models import BannerImage\\n\\ndef access_banner_image(request):\\n    \\\"\\\"\\\"\\n      The context processor must return a dictionary.\\n    \\\"\\\"\\\"\\n    bannerImage = BannerImage.objects.latest('-id') #query the latest banner image\\n    return {'bannerImage':bannerImage} \\n\"), \"\\n        \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"access_banner_image\"), \" is the custom context processors we just created, add it to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"context_processors\"), \" option in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TEMPLATES\"), \" setting so that the variable \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"bannerImage\"), \" is accessible in all templates.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"python\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"#settings.py\\nTEMPLATES = [\\n    {\\n        #under OPTIONS key\\n        'OPTIONS': {\\n            'context_processors': [\\n                'django.template.context_processors.debug',\\n                'django.template.context_processors.request',\\n                'django.contrib.auth.context_processors.auth',\\n                'django.contrib.messages.context_processors.messages',\\n               #context processor written by us.\\n           'appname.context_processors.access_banner_image'\\n],\\n        },\\n    },\\n]\"), \"\\n        \"), mdx(\"p\", null, \"We are done \\uD83C\\uDF89 , the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"bannerImage\"), \" variable will be now accessible in all the templates.\"), mdx(\"h3\", null, \"Example:\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"html\"\n  }, \"\\n          \", mdx(\"code\", _extends({\n    parentName: \"deckgo-highlight-code\"\n  }, {\n    \"slot\": \"code\"\n  }), \"<img src=\\\"{{bannerImage.image.url}}\\\" alt=''/>\"), \"\\n        \"), mdx(\"p\", null, \"Thanks For Reading my post.\\uD83D\\uDE42\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"slug":"custom-context-processors-in-django"}},"staticQueryHashes":["3649515864","570168620","63159454"]}